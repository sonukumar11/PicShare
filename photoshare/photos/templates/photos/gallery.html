<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Gallery</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">

        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
         rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

         <style>
            .list-group-item a {
                text-decoration: none;
                color: black;
            }
             .image-thumbnail{
                 height:200px;
                 object-fit:cover;
             }
         </style>
    </head>
    <body class='m-5'>
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    {% if request.user.is_authenticated %}
                        <p> Welcome {{request.user}} </p>
                    {% endif %}
                    <div class="card">
                        <div class="card-header">
                          Categories
                        </div>
                        <ul class="list-group list-group-flush">
                            <div class="mt-1 ml-1">
                          <li class="list-group-item">
                             <a href="{% url 'gallery' %}"> All </a>
                            </li>
                            </div>
                          {% for category in categories %}
                          {% comment %} <div class="my-1"> {% endcomment %}
                            <li class="list-group-item">
                                <a href="{% url 'gallery' %}?category={{category.name}}"> {{ category.name }} </a>
                                </li>
                          {% endfor %}
                           {% comment %} </div> {% endcomment %}
                              
                              <a href="{% url 'add' %}" class="btn btn-dark btn-block btn-sm m-1">Add Photo</a>
                              <a href="{% url 'logout' %}" class="btn btn-dark btn-block btn-sm m-1">Logout</a>
                        </ul>
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="row">

                        {% for photo in photos %}
                        <div class="col-md-4">
                            <div class="card my-2 ">
                                <img class="image-thumbnail" src="{{photo.image.url}}" alt="Card image cap">
                                <div class="card-body">
                                  <small>Category: {{photo.category.name}}</small>
                                </div>
                                <a href="{% url 'photo' photo.id %}" class="btn btn-outline-dark btn-sm m-1">View</a>
                            </div>
                        </div>
                        {% empty %}
                        <h3>No Photos Availiable</h3>
                        {% endfor %}


                    </div>

                </div>
            </div>
        </div>
        
        
    </body>
</html>